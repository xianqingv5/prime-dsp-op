"use strict";$(function(){$("#sub-nav").html('<li class="active"><a href="javascript:;">Adx管理</a></li>\n        <li><a href="?goto=adx&mold=report">Adx报表</a></li>').show();var n=$("#form-container .confirm");$("#form-container").on("submit",function(){var r=n.btnSubmiting("正在提交..."),a=_.extend($("form").serializeJSON(),{id:o});if(a.forUser)try{a.forUser=JSON.parse(a.forUser)}catch(n){$("#forUser").val(""),console.warn("parse forUser error! ",a.forUser)}else a.forUser=[];return e(a).then(function(n){r(),0==n.status?(common.msgs.new_msg("success","success"),t()):common.msgs.new_msg("fail","fail")}),!1}),$("#form-container .cancel").on("click",function(){t()});var o=common.getUrlVars("adxId"),t=function(){return location.href="./index.html?"+$.param({goto:"adx",mold:"list"})},r=function(n){return common.ajaxGet("queryAdExchange",{id:n})},e=function(n){return common.ajaxPost("updateAdExchange",n)},a=function(n){var o=$("#form-container");Object.keys(n).forEach(function(t){var r,e,a,c=n[t],i=o.find("[name="+t+"]");e=c,"text"!=(a=(r=i).attr("type"))&&"email"!=a&&"number"!=a||r.val(e),"checkbox"!=a&&"radio"!=a||r.each(function(){$(this).val()==e?$(this).prop("checked",!0):$(this).removeProp("checked")})})};common.pluginsTools.loadPlugins(function(){r(o).then(function(n){0==n.status&&n.data&&n.data.list&&n.data.list.length&&a(n.data.list[0])})},[])});