"use strict";var plugin1="template";function bindEvents(){$("#list").on("click","button.detail, button.view",function(){var t=$(this).attr("accountId"),e=$(this).attr("type");window.location="./index.html?goto=account&mold=detail&accountId="+t+"&type="+e});var n=$(".filter").focus();n.on("keyup",function(t){var e;"13"==(t.charCode||t.keyCode)&&(e=$(this).attr("data-key"),n.each(function(){e!=$(this).attr("data-key")&&$(this).val("")}),getAndRenderList())}),$("#show-all").on("click",function(){n.val(""),getAndRenderList()})}function getAndRenderList(a,o,r){var t=a||1,i=$("form").serialize()+"&currentPage="+t;helper(),common.ajaxRequest("queryCustomerAccountList",i,function(t){var e,n;0==t.status&&(2!=(e=$("#userInfomation").attr("roleId"))&&7!=e||setTimeout(function(){$(".check-authority").show()}),n=t.data&&0==t.data.list.length?'<tr><td  class="text-left" colspan="10">No result</td></tr>':template("accountList",{data:t.data&&t.data.list,roleId:e,Currency:Currency}),$("#list").html(n),common.buildPage($(".page"),t.data.paging,i,getAndRenderList,10,a,o,r),$(".btn-toolbar").children("button").remove(),$("table#account-list").tableExport({formats:["xlsx"]}))})}function helper(){template.helper("handleStatus",function(t){switch(t){case 1:return"Active";case 2:return"Pause";case 3:return"Remove";default:return""}})}function render(){getAndRenderList(),bindEvents()}common.pluginsTools.loadPlugins(render,[plugin1]);