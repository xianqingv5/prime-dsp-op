"use strict";var plugin1="template";function bindEvents(){$("#list").on("click","button.detail, button.view",function(){var t=$(this).attr("accountId"),e=$(this).attr("type");window.location="./index.html?goto=account&mold=detail&accountId="+t+"&type="+e});var t=$(".filter").focus();t.on("keyup",function(e){if("13"==(e.charCode||e.keyCode)){var n=$(this).attr("data-key");t.each(function(){n!=$(this).attr("data-key")&&$(this).val("")}),getAndRenderList()}}),$("#show-all").on("click",function(){t.val(""),getAndRenderList()})}function getAndRenderList(t,e,n){var a=t||1,o=$("form").serialize()+"&currentPage="+a;helper(),common.ajaxRequest("queryCustomerAccountList",o,function(a){if(0==a.status){var i=$("#userInfomation").attr("roleId");if(2!=i&&7!=i||setTimeout(function(){$(".check-authority").show()}),a.data&&0==a.data.list.length)var r='<tr><td  class="text-left" colspan="10">No result</td></tr>';else r=template("accountList",{data:a.data&&a.data.list,roleId:i,Currency:Currency});$("#list").html(r),common.buildPage($(".page"),a.data.paging,o,getAndRenderList,10,t,e,n),$(".btn-toolbar").children("button").remove(),$("table#account-list").tableExport({formats:["xlsx"]})}})}function helper(){template.helper("handleStatus",function(t){switch(t){case 1:return"Active";case 2:return"Pause";case 3:return"Remove";default:return""}})}function render(){getAndRenderList(),bindEvents()}common.pluginsTools.loadPlugins(render,[plugin1]);