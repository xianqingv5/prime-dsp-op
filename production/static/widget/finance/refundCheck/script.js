"use strict";function bindEvents(){$("button").unbind().on("click",function(n){n.preventDefault();var o,e,t=$(this).is(".submitAndGo"),i=$(this).is(".submitAndExit");t||i?(o=t?1:0,e=$("form").serialize()+"&saveType="+o,checkInputs()&&common.ajaxRequest("financeApprovel",e,function(n){0==n.status&&(1==o?null!=n.data?common.renderfinanceApprovel(n):common.msgs.new_msg("warning","已审核完所有退款记录",window.location="./index.html?goto=finance&mold=list"):(common.msgs.new_msg("success","success"),window.location="./index.html?goto=finance&mold=list"))})):window.location="./index.html?goto=finance&mold=list"})}function checkInputs(){if(""!=$("#approvalStatus").val())return!0;common.msgs.new_msg("Error","请选择审核结果")}function getRechargeInfo(){var n,o=common.urlTools.getUrlParam("chargeId"),e=common.urlTools.getUrlParam("action");o?(n={chargeId:o},$("#chargeId").val(o),common.getChargeInfo(n),e&&($("#approvalStatus, textarea").prop("disabled",!0),$("button").addClass("hidden"))):common.getNextPendingChargeInfo()}function init(){bindEvents(),getRechargeInfo(),$(".currency").html(template("currencyTmp",{currency:window.Currency}))}common.pluginsTools.loadPlugins(init,["template"]);