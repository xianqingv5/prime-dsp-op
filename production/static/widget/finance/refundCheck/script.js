"use strict";function bindEvents(){$("button").unbind().on("click",function(n){n.preventDefault();var o=$(this).is(".submitAndGo"),e=$(this).is(".submitAndExit");if(o||e){var t=o?1:0,i=$("form").serialize()+"&saveType="+t;checkInputs()&&common.ajaxRequest("financeApprovel",i,function(n){0==n.status&&(1==t?null!=n.data?common.renderfinanceApprovel(n):common.msgs.new_msg("warning","已审核完所有退款记录",window.location="./index.html?goto=finance&mold=list"):(common.msgs.new_msg("success","success"),window.location="./index.html?goto=finance&mold=list"))})}else window.location="./index.html?goto=finance&mold=list"})}function checkInputs(){if(""!=$("#approvalStatus").val())return!0;common.msgs.new_msg("Error","请选择审核结果")}function getRechargeInfo(){var n=common.urlTools.getUrlParam("chargeId"),o=common.urlTools.getUrlParam("action");if(n){var e={chargeId:n};$("#chargeId").val(n),common.getChargeInfo(e),o&&($("#approvalStatus, textarea").prop("disabled",!0),$("button").addClass("hidden"))}else common.getNextPendingChargeInfo()}function init(){bindEvents(),getRechargeInfo(),$(".currency").html(template("currencyTmp",{currency:window.Currency}))}common.pluginsTools.loadPlugins(init,["template"]);